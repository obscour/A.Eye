<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>A.Eye Login</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet"/>
  <link href="css/styles.css" rel="stylesheet" />
</head>
<body class="d-flex align-items-center justify-content-center vh-100">

  <!-- Login Box -->
  <div class="login-box text-center">
    <h3 class="mb-4" id="formTitle">Login</h3>

    <!-- Error Message -->
    <div id="error-message" class="alert alert-danger" style="display: none;"></div>
    <!-- Success Message -->
    <div id="success-message" class="alert alert-success" style="display: none;"></div>

    <!-- Login Form -->
    <form id="loginForm">
      <div class="form-floating mb-3">
        <input type="text" class="form-control" id="loginIdentifier" placeholder="Email or Username" required />
        <label for="loginIdentifier">Email or Username</label>
      </div>
      <div class="form-floating mb-4 position-relative">
        <input type="password" class="form-control" id="password" placeholder="Password" required />
        <label for="password">Password</label>
        <button type="button" class="btn btn-link position-absolute end-0 top-50 translate-middle-y me-2" id="togglePassword" style="z-index: 10; border: none; background: none; padding: 0.5rem; color: #6c757d;" title="Show/Hide Password">
          <i class="bi bi-eye" id="togglePasswordIcon"></i>
        </button>
      </div>
      <button type="submit" class="btn btn-primary w-100">Login</button>
    </form>

  </div>

  <!-- Terms & Conditions Modal -->
  <div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="termsModalLabel">Terms & Conditions</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" id="termsContent">
          <h6>A. Acceptance of Terms</h6>
          <p>By clicking the registration checkbox and accessing the A.Eye service, you agree to be bound by these Terms of Service. If you do not agree to the Terms, you must not use the service.</p>

          <h6>B. Account Security & Data</h6>
          <p><strong>Account Data:</strong> We collect your Username, Email Address, and Password (stored as a secure hash) for account creation and login.</p>
          <p><strong>Progress Data:</strong> We store data related to your Braille learning progress (e.g., stats, mastery levels) solely to provide the core service functionality.</p>
          <p><strong>Responsibility:</strong> You are responsible for maintaining the confidentiality of your account password and for all activities that occur under your account.</p>

          <h6>C. Use of Service</h6>
          <p>The A.Eye platform is provided exclusively for the purpose of personal Braille learning and progress tracking.</p>
          <p><strong>Prohibited Actions:</strong> You agree not to use the service for any unlawful purposes, attempt to gain unauthorized access to our system, or submit false information during registration.</p>

          <h6>D. Intellectual Property</h6>
          <p>All rights, title, and interest in the A.Eye software, design, and content belong exclusively to the A.Eye development team.</p>
          <p>You are granted a limited license to use the service. You may not copy, reverse-engineer, or commercially exploit any part of the service.</p>

          <h6>E. Limitation of Liability</h6>
          <p>The A.Eye service is provided "AS IS" and "AS AVAILABLE" without warranties of any kind.</p>
          <p>A.Eye shall not be liable for any damages (direct, indirect, or consequential) resulting from the use or inability to use the service, including data loss or service interruption.</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Privacy Policy Modal -->
  <div class="modal fade" id="privacyModal" tabindex="-1" aria-labelledby="privacyModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="privacyModalLabel">Privacy Policy</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" id="privacyContent">
          <h6>A. Data We Collect (Minimized Data Set)</h6>
          <p>We only collect the minimum amount of data required to operate the A.Eye service:</p>
          <p><strong>Account Identifiers:</strong> Username and Email Address.</p>
          <p><strong>Authentication Data:</strong> Securely hashed Password.</p>
          <p><strong>Usage Data:</strong> Your Braille learning progress, streak data, and attempts recorded by the application.</p>
          <p><strong>Technical Data:</strong> Server logs for monitoring site stability.</p>

          <h6>B. How We Use Your Data (Core Purpose Only)</h6>
          <p>Your data is used strictly for the following purposes:</p>
          <p><strong>Authentication:</strong> To verify your email address (via Brevo) and secure your account access.</p>
          <p><strong>Service Provision:</strong> To track and display your personal Braille learning progress, which is the core function of A.Eye.</p>
          <p><strong>Communication:</strong> To send essential administrative and security notices (e.g., password reset links).</p>

          <h6>C. Data Sharing and Disclosure (Zero Tolerance)</h6>
          <p>We do not sell, rent, trade, or share your personal data (Username, Email, or Progress Data) with any third parties. Your data is confidential and used only by the A.Eye development team for the purposes stated above.</p>

          <h6>D. Data Security</h6>
          <p>We employ industry-standard security measures, including SSL/TLS encryption for data transmission and cryptographic hashing for passwords (handled by Supabase), to protect your information.</p>

          <h6>E. Contact Information</h6>
          <p>If you have questions about this Privacy Policy or wish to request access or deletion of your data, please contact us at <a href="mailto:conde.215980@caloocan.sti.edu.ph">conde.215980@caloocan.sti.edu.ph</a></p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="js/auth.js?v=2"></script>
  <script src="js/audit-log.js"></script>
  <script>
    // Toggle password visibility
    document.addEventListener('DOMContentLoaded', function() {
      const togglePassword = document.getElementById('togglePassword');
      const passwordInput = document.getElementById('password');
      const toggleIcon = document.getElementById('togglePasswordIcon');
      
      if (togglePassword && passwordInput && toggleIcon) {
        togglePassword.addEventListener('click', function(e) {
          e.preventDefault();
          const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
          passwordInput.setAttribute('type', type);
          
          // Toggle icon
          if (type === 'password') {
            toggleIcon.classList.remove('bi-eye-slash');
            toggleIcon.classList.add('bi-eye');
          } else {
            toggleIcon.classList.remove('bi-eye');
            toggleIcon.classList.add('bi-eye-slash');
          }
        });
      }
    });
  </script>
</body>
</html>
